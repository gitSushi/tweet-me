{"version":3,"sources":["logo.svg","lookup/components.js","tweets/create.js","tweets/lookup.js","tweets/buttons.js","tweets/detail.js","tweets/list.js","tweets/components.js","App.js","index.js"],"names":["module","exports","backendLookup","method","endpoint","callback","data","jsonData","JSON","stringify","xhr","XMLHttpRequest","url","responseType","csrftoken","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","getCookie","open","setRequestHeader","onload","status","response","detail","window","location","href","onerror","e","console","log","message","send","TweetCreate","props","didTweet","textareaRef","createRef","handleBackendUpdate","alert","className","onSubmit","event","preventDefault","newValue","current","value","content","ref","required","type","ActionBtn","tweet","action","didPerformAction","likes","actionDisplay","display","handleActionBackendEvent","onClick","tweetId","id","apiTweetAction","ParentTweet","Tweet","hideActions","parent","didRetweet","useState","actionTweet","setActionTweet","handlePerformAction","newActionTweet","path","pathname","regexId","match","urlTweetId","groups","tweetid","isDetail","Fragment","TweetList","username","tweetsInit","setTweetsInit","tweetsDidSet","setTweetsDidSet","tweets","setTweets","useEffect","final","newTweets","concat","apiTweetList","handleDidRetweet","newTweet","updatedTweetsInit","unshift","updatedFinalTweets","map","index","key","TweetsComponent","canTweet","setNewTweets","tempNewTweets","TweetDetailComponent","didLookup","setDidLookup","setTweet","handleBackendLookup","apiTweetDetail","App","src","logo","alt","appEL","getElementById","ReactDOM","render","StrictMode","tweetEl","myComponent","React","createElement","dataset","rCEl","querySelectorAll","forEach","container"],"mappings":"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","file":"static/js/main.f8a3dcdd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","function getCookie(name) {\r\n  let cookieValue = null;\r\n  if (document.cookie && document.cookie !== \"\") {\r\n    const cookies = document.cookie.split(\";\");\r\n    for (let i = 0; i < cookies.length; i++) {\r\n      const cookie = cookies[i].trim();\r\n      // Does this cookie string begin with the name we want?\r\n      if (cookie.substring(0, name.length + 1) === name + \"=\") {\r\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return cookieValue;\r\n}\r\n\r\nexport function backendLookup(method, endpoint, callback, data) {\r\n  let jsonData;\r\n  if (data) {\r\n    jsonData = JSON.stringify(data);\r\n  }\r\n  const xhr = new XMLHttpRequest();\r\n  const url = `http://127.0.0.1:8080/api${endpoint}`;\r\n\r\n  xhr.responseType = \"json\";\r\n\r\n  const csrftoken = getCookie(\"csrftoken\");\r\n  xhr.open(method, url);\r\n  xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n  if (csrftoken) {\r\n    //xhr.setRequestHeader(\"HTTP_X_REQUESTED_WITH\", \"XMLHttpRequest\");\r\n    xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\r\n    xhr.setRequestHeader(\"X-CSRFToken\", csrftoken);\r\n  }\r\n\r\n  xhr.onload = function() {\r\n    if (xhr.status === 403) {\r\n      const detail = xhr.response.detail;\r\n      if (detail === \"Authentication credentials were not provided.\") {\r\n        window.location.href = \"/login?showLoginRequired=true\";\r\n      }\r\n    }\r\n    callback(xhr.response, xhr.status);\r\n  };\r\n  xhr.onerror = function(e) {\r\n    console.log(\"onerror : \", e);\r\n    callback({ message: \"the request was an error\" }, 400);\r\n  };\r\n  xhr.send(jsonData);\r\n}\r\n","import React, { createRef } from \"react\";\r\nimport { apiTweetCreate } from \"./lookup\";\r\n\r\nexport function TweetCreate(props) {\r\n  const { didTweet } = props;\r\n  const textareaRef = createRef();\r\n\r\n  /*\r\n   * backend API handler\r\n  */\r\n  const handleBackendUpdate = (response, status) => {\r\n    if (status === 201) {\r\n      didTweet(response);\r\n    } else {\r\n      console.log(response);\r\n      alert(\"An error occured please try again\");\r\n    }\r\n  };\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n    const newValue = textareaRef.current.value;\r\n\r\n    apiTweetCreate(newValue, handleBackendUpdate);\r\n    textareaRef.current.value = \"\";\r\n  };\r\n\r\n  return (\r\n    <div className={props.className}>\r\n      <form onSubmit={handleSubmit}>\r\n        <textarea\r\n          ref={textareaRef}\r\n          required\r\n          className=\"form-control\"\r\n          name=\"tweet\"\r\n        />\r\n        <button type=\"submit\" className=\"btn btn-primary my-3\">\r\n          Tweet\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { backendLookup } from \"../lookup\";\r\n\r\nexport function apiTweetCreate(newTweet, callback) {\r\n  backendLookup(\"POST\", \"/tweets/create/\", callback, { content: newTweet });\r\n}\r\n\r\nexport function apiTweetAction(tweetId, action, callback) {\r\n  const data = { id: tweetId, action };\r\n  backendLookup(\"POST\", \"/tweets/action/\", callback, data);\r\n}\r\n\r\nexport function apiTweetDetail(tweetId, callback) {\r\n  backendLookup(\"GET\", `/tweets/${tweetId}`, callback);\r\n}\r\n\r\nexport function apiTweetList(username, callback) {\r\n  let endpoint = \"/tweets/\";\r\n  if (username) {\r\n    endpoint = `/tweets/?username=${username}`;\r\n  }\r\n  backendLookup(\"GET\", endpoint, callback);\r\n}\r\n","import React from \"react\";\r\nimport { apiTweetAction } from \"./lookup\";\r\n\r\nexport function ActionBtn(props) {\r\n  const { tweet, action, didPerformAction } = props;\r\n\r\n  const likes = tweet.likes ? tweet.likes : 0;\r\n  // const [likes, setLikes] = useState(tweet.likes ? tweet.likes : 0);\r\n  // const [userLike, setUserLike] = useState(false);\r\n  // const [userLike, setUserLike] = useState(\r\n  //   tweet.userLike === true ? true : false\r\n  // );\r\n\r\n  const className = props.className\r\n    ? props.className\r\n    : \"btn btn-primary btn-sm\";\r\n  const actionDisplay = action.display ? action.display : \"Action\";\r\n  const display =\r\n    action.type === \"like\" ? `${likes} ${actionDisplay}` : actionDisplay;\r\n\r\n  const handleActionBackendEvent = (response, status) => {\r\n    if ((status === 200 || status === 201) && didPerformAction) {\r\n      // setLikes(response.likes);\r\n      didPerformAction(response);\r\n    }\r\n    // if (action.type === \"like\") {\r\n    //   if (userLike === true) {\r\n    //     setLikes(likes - 1);\r\n    //     setUserLike(false);\r\n    //   } else {\r\n    //     setLikes(likes + 1);\r\n    //     setUserLike(true);\r\n    //   }\r\n    // }\r\n    if (status === 403) {\r\n      console.log(response, status);\r\n    }\r\n  };\r\n\r\n  const handleClick = event => {\r\n    event.preventDefault();\r\n    apiTweetAction(tweet.id, action.type, handleActionBackendEvent);\r\n  };\r\n\r\n  return (\r\n    <button className={className} onClick={handleClick}>\r\n      {display}\r\n    </button>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { ActionBtn } from \"./buttons\";\r\n\r\nfunction ParentTweet(props) {\r\n  const { tweet } = props;\r\n  return (\r\n    <div className=\"col-11 mx-auto p-3 border rounded\">\r\n      <p className=\"mb-0 text-muted small\">Retweet</p>\r\n      <Tweet hideActions className={\" \"} tweet={tweet.parent} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function Tweet(props) {\r\n  const { tweet, didRetweet, hideActions } = props;\r\n  const [actionTweet, setActionTweet] = useState(\r\n    props.tweet ? props.tweet : null\r\n  );\r\n  const className = props.className\r\n    ? props.className\r\n    : \"col-10 mx-auto col-md-6\";\r\n\r\n  const handlePerformAction = (newActionTweet, status) => {\r\n    if (status === 200) {\r\n      setActionTweet(newActionTweet);\r\n    } else if (status === 201) {\r\n      if (didRetweet) {\r\n        didRetweet(newActionTweet);\r\n      }\r\n    }\r\n  };\r\n\r\n  const path = window.location.pathname;\r\n  const regexId = /(?<tweetid>\\d+)/;\r\n  const match = path.match(regexId);\r\n  const urlTweetId = match ? match.groups.tweetid : -1;\r\n  const isDetail = `${tweet.id}` === `${urlTweetId}`;\r\n\r\n  const handleLink = event => {\r\n    event.preventDefault();\r\n    window.location.href = `/${tweet.id}`;\r\n  };\r\n\r\n  return (\r\n    <div className={className}>\r\n      <div className=\"px-2\">\r\n        <p>\r\n          {tweet.id} - {tweet.content}\r\n        </p>\r\n        {tweet.parent && <ParentTweet tweet={tweet} />}\r\n      </div>\r\n      <div className=\"btn btn-group\">\r\n        {actionTweet &&\r\n          hideActions !== true &&\r\n          <React.Fragment>\r\n            <ActionBtn\r\n              tweet={actionTweet}\r\n              didPerformAction={handlePerformAction}\r\n              action={{ type: \"like\", display: \"Likes\" }}\r\n            />\r\n            <ActionBtn\r\n              tweet={actionTweet}\r\n              didPerformAction={handlePerformAction}\r\n              action={{ type: \"unlike\", display: \"Unlike\" }}\r\n            />\r\n            <ActionBtn\r\n              tweet={actionTweet}\r\n              didPerformAction={handlePerformAction}\r\n              action={{ type: \"retweet\", display: \"Retweet\" }}\r\n            />\r\n          </React.Fragment>}\r\n        {isDetail === true\r\n          ? null\r\n          : <button\r\n              className=\"btn btn-outline-primary btn-sm\"\r\n              onClick={handleLink}\r\n            >\r\n              View\r\n            </button>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { apiTweetList } from \"./lookup\";\r\nimport { Tweet } from \"./detail\";\r\n\r\nexport function TweetList(props) {\r\n  const { username } = props;\r\n  const [tweetsInit, setTweetsInit] = useState([]);\r\n  const [tweetsDidSet, setTweetsDidSet] = useState(false);\r\n\r\n  // Maybe useReducer instead\r\n  const [tweets, setTweets] = useState([]);\r\n\r\n  useEffect(\r\n    () => {\r\n      const final = [...props.newTweets].concat(tweetsInit);\r\n      if (final.length !== tweets.length) {\r\n        setTweets(final);\r\n      }\r\n    },\r\n    [props.newTweets, tweets, tweetsInit]\r\n  );\r\n\r\n  useEffect(\r\n    () => {\r\n      if (tweetsDidSet === false) {\r\n        const handleTweetListLookup = (response, status) => {\r\n          // console.log(response, status);\r\n          if (status === 200) {\r\n            setTweetsInit(response);\r\n            setTweetsDidSet(true);\r\n          } else {\r\n            alert(\"There was an error\");\r\n          }\r\n        };\r\n        apiTweetList(username, handleTweetListLookup);\r\n      }\r\n      /*\r\n    // both syntax work -> https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects#Using_object_initializers\r\n    let tweetItems = [{\"content\": 123}, {content: \"Hi there\"}]\r\n    setTweets(tweetItems);\r\n    */\r\n    },\r\n    [setTweetsInit, tweetsDidSet, setTweetsDidSet, username]\r\n  );\r\n\r\n  const handleDidRetweet = newTweet => {\r\n    const updatedTweetsInit = [...tweetsInit];\r\n    updatedTweetsInit.unshift(newTweet);\r\n    setTweetsInit(updatedTweetsInit);\r\n\r\n    const updatedFinalTweets = [...tweets];\r\n    updatedFinalTweets.unshift(tweets);\r\n    setTweets(updatedFinalTweets);\r\n  };\r\n\r\n  return tweets.map((tweet, index) =>\r\n    <div className=\"col-12\" key={`${index}-{tweet.id}`}>\r\n      <Tweet\r\n        tweet={tweet}\r\n        didRetweet={handleDidRetweet}\r\n        className=\"my-5 py-4 border bg-white text-dark\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { TweetCreate } from \"./create\";\r\nimport { TweetList } from \"./list\";\r\nimport { apiTweetDetail } from \"./lookup\";\r\nimport { Tweet } from \"./detail\";\r\n\r\nexport function TweetsComponent(props) {\r\n  // const { canTweet } = props;\r\n  const canTweet = props.canTweet === \"false\" ? false : true;\r\n  const [newTweets, setNewTweets] = useState([]);\r\n\r\n  const handleNewTweet = newTweet => {\r\n    let tempNewTweets = [...newTweets];\r\n    tempNewTweets.unshift(newTweet);\r\n    setNewTweets(tempNewTweets);\r\n  };\r\n\r\n  return (\r\n    <div className={props.className}>\r\n      {canTweet &&\r\n        <TweetCreate didTweet={handleNewTweet} className=\"col-12 mb-3\" />}\r\n      <TweetList newTweets={newTweets} {...props} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function TweetDetailComponent(props) {\r\n  const { tweetId } = props;\r\n  const [didLookup, setDidLookup] = useState(false);\r\n  const [tweet, setTweet] = useState(null);\r\n\r\n  const handleBackendLookup = (response, status) => {\r\n    if (status === 200) {\r\n      setTweet(response);\r\n    } else {\r\n      alert(\"There was an error finding your tweet.\");\r\n    }\r\n  };\r\n\r\n  useEffect(\r\n    () => {\r\n      if (didLookup === false) {\r\n        apiTweetDetail(tweetId, handleBackendLookup);\r\n        setDidLookup(true);\r\n      }\r\n    },\r\n    [tweetId, didLookup, setDidLookup]\r\n  );\r\n\r\n  return tweet === null\r\n    ? null\r\n    : <Tweet tweet={tweet} className={props.className} />;\r\n}\r\n","import React from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { TweetsComponent } from \"./tweets\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <div>\n          <TweetsComponent />\n        </div>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { TweetsComponent, TweetDetailComponent } from \"./tweets\";\n// import * as serviceWorker from './serviceWorker';\n\nconst appEL = document.getElementById(\"root\");\nif (appEL) {\n  ReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    appEL\n  );\n}\n\nconst tweetEl = document.getElementById(\"tweetMe2\");\nif (tweetEl) {\n  const myComponent = React.createElement(TweetsComponent, tweetEl.dataset);\n  ReactDOM.render(myComponent, tweetEl);\n\n  // ReactDOM.render(\n  //   <React.StrictMode>\n  //     <myComponent />\n  //   </React.StrictMode>,\n  //   tweetEl\n  // );\n}\n\nconst rCEl = React.createElement;\nconst tweetDetailElements = document.querySelectorAll(\".tweetme-2-detail\");\n\ntweetDetailElements.forEach(container => {\n  ReactDOM.render(rCEl(TweetDetailComponent, container.dataset), container);\n});\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n// serviceWorker.unregister();\n"],"sourceRoot":""}